📘 Knowledge Sharing: API Design Best Practices

🔧 Integrating Microsoft API Guidelines + Google AIP + Telkom AIP-style

1. 📐 Design Principles

Desain API yang baik adalah fondasi dari keberhasilan integrasi sistem, skalabilitas, dan adopsi developer. Prinsip desain ini memastikan bahwa API konsisten, mudah digunakan, dan dapat berkembang tanpa merusak konsumen yang sudah ada.

Telkom AIP-001: Design Philosophy

APIs must serve internal and external developers equally.

Favor declarative over imperative interaction.

Avoid complex nested payloads; prioritize clarity over compactness.

Referensi:

Microsoft: Konsistensi, kesederhanaan, hindari perubahan yang merusak.

Google AIP: AIP-121, AIP-133, AIP-141

2. 🌍 Resource Design

Desain resource menentukan bagaimana pengguna berinteraksi dengan entitas dalam sistem. Tujuannya adalah menciptakan struktur URL yang intuitif dan mencerminkan hierarki data secara natural.

Telkom AIP-002: URI Convention

Base URI: /api/v{version}/{service}/{resource}

Example: /api/v1/identity/users/{id}

Referensi:

Microsoft: Gunakan URI berbasis noun dan hierarki.

Google AIP: AIP-122, AIP-123

3. 📦 Versioning

Versioning API penting untuk memastikan pengembangan fitur baru dan penghapusan fitur lama dilakukan tanpa mengganggu konsumen yang masih menggunakan versi sebelumnya.

Telkom AIP-003: Versioning Rule

Mandatory version prefix in URI.

Deprecated versions must be sunset with 6-month notice.

Referensi:

Microsoft: Versi di URI (/v1.0/...).

Google AIP: AIP-181

4. 📨 Methods and HTTP Semantics

Penggunaan metode HTTP yang tepat membantu membuat API lebih prediktif dan sesuai standar REST.

Telkom AIP-004: HTTP Verb Semantics

PATCH is preferred over PUT for partial updates.

POST must not be used for non-idempotent mutations unless request_id is used.

Referensi:

Microsoft: Gunakan HTTP verb sesuai standar CRUD.

Google AIP: AIP-131

5. 🔄 Error Handling

Format penanganan error harus jelas, terstruktur, dan memberi informasi yang cukup bagi developer untuk menangani kegagalan.

Telkom AIP-005: Error Standard

{
  "error": {
    "code": 403,
    "message": "Forbidden: Access denied.",
    "domain": "identity",
    "reason": "INSUFFICIENT_PERMISSION",
    "metadata": {
      "user_id": "abc123"
    }
  }
}

Referensi:

Microsoft: Gunakan objek error dengan struktur code/message/detail.

Google AIP: AIP-193

6. 🔍 Filtering, Paging, Sorting

Fitur ini mendukung efisiensi dalam pengambilan data dalam jumlah besar, serta memberikan fleksibilitas bagi pengguna dalam mendapatkan data yang dibutuhkan.

Telkom AIP-006: Pagination and Filters

Use limit, offset, sort_by, filter query parameters.

Example: /api/v1/inventory/items?filter=type:modem&limit=50&offset=0

Referensi:

Microsoft: Gunakan pendekatan OData ($filter, $orderby, dll).

Google AIP: AIP-160

7. 🔐 Authentication & Authorization

Keamanan adalah aspek utama dari API publik maupun internal. Mekanisme autentikasi dan otorisasi harus kuat, konsisten, dan terstandarisasi.

Telkom AIP-007: Identity Enforcement

All endpoints must verify X-Telkom-User-Id from Gateway layer.

Role info included in JWT claims.

Referensi:

Microsoft: OAuth 2.0 dan Role-based Access.

Google AIP: AIP-4110

8. 🧪 Idempotency and Retry

API yang dapat diulang dengan aman (idempotent) penting untuk ketahanan sistem terutama pada kondisi jaringan yang tidak stabil.

Telkom AIP-008: Retry Guarantee

All mutation requests must accept X-Request-ID.

Backend must ensure deduplication based on ID.

Referensi:

Microsoft: Pastikan PUT dan DELETE bersifat idempotent.

Google AIP: AIP-152

9. 📚 Naming Conventions

Konsistensi penamaan meningkatkan keterbacaan, prediktabilitas, dan mengurangi kebingungan dalam integrasi antar tim.

Telkom AIP-009: Naming Style

snake_case untuk semua field dalam payload.

PascalCase hanya untuk definisi model/tipe.

Referensi:

Microsoft: camelCase untuk field JSON.

Google AIP: AIP-140

10. 🧭 Documentation and Discovery

Dokumentasi adalah jembatan antara pengembang API dan pengguna. API tanpa dokumentasi = tidak berguna.

Telkom AIP-010: Discovery Standards

All services must publish OpenAPI 3.0 spec to internal API registry.

Use Redoc or Swagger UI for developer portal.

Referensi:

Microsoft: Gunakan OpenAPI/Swagger.

Google AIP: AIP-158

📎 Summary and Next Steps

Follow Microsoft’s structural rigor.

Adopt Google’s AIP precision in design and standards.

Implement Telkom AIP to tailor principles to our internal ecosystem.

For future reference, AIP-style documents should be maintained in a central internal Git repo: git@telkom/api-guidelines.git under aip/ directory.

